<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tabuleiro</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background-color: #e0f7e9;
      font-family: sans-serif;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }

  #container {
  display: flex;
  flex-direction: column;
  align-items: center;
}

    .fundo-wrapper {
      position: relative;
      width: 100vw; /* escala com a tela */
      max-width: 550px;
      aspect-ratio: 502 / 557; /* ajuste para a propor√ß√£o da sua imagem */
      background-image: url('fundo.jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }

    .slot {
      position: absolute;
      width: 8%; /* relativo ao fundo */
      aspect-ratio: 1 / 1;
      border: px solid #444;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 0.8vw;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

        .figuras {
      position: absolute;
      display: flex;
      flex-direction: column;
      right: 5%;
      z-index: 4;
      margin-top: 10%;
      margin-right: 60%;
      gap: 5px;
    }

        .figura {
      position: absolute;
      width: 9vw;
      height: 9vw;
      max-width: 50px;
      max-height: 50px;
      background-color: #6E3F6F;
      border: 4px solid #015817;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 2.3vw;
      cursor: pointer;
      transition: 0.2s;
      box-shadow: 2px 4px 4px 1px rgba(0, 15, 3, 0.514);
    }

    .figura>img{
      border-radius: 50%;
      width: 100%;
    }

    /* Posicionamento baseado na imagem */
    .slot1 { top: 50%; left: 11%; }
    .slot2 { top: 59%; left: 6%; }
    .slot3 { top: 67%; left: 3.5%; }
    .slot4 { top: 78%; left: 4%; }
    .slot5 { top: 85.5%; left: 12%; }
    .slot6 { top: 86.5%; left: 23%; }
    .slot7 { top: 80%; left: 32%; }
    .slot8 { top: 69%; left: 35%; }
    .slot9 { top: 60.5%; left: 36%; }
    .slot10 { top: 51.5%; left: 38.5%; }
    .slot11 { top: 42.5%; left: 45.5%; }
    .slot12 { top: 38.5%; left: 56%; }
    .slot13 { top: 39.5%; left: 68%; }
    .slot14 { top: 46.5%; left: 77%; }
    .slot15 { top: 61%; left: 76%; }
    .slot16 { top: 66.5%; left: 69%; }
    .slot17 { top: 72.5%; left: 61.5%; }
    .slot18 { top: 78%; left: 54.5%; }
    .slot19 { top: 89.5%; left: 59%; }
    .slot20 { top: 90%; left: 70.5%; }
    .slot21 { top: 86%; left: 83.5%; }


    .dado-container {
  position: absolute;
  top: 6%;
  left: 75%;
  transform: translateX(-50%);
  display: flex;
  flex-direction: column;
  align-items: center;
  z-index: 10;
}

.dado {
  width: 60px;
  height: 60px;
  position: relative;
  transform-style: preserve-3d;
  transform: rotateX(0deg) rotateY(0deg);
  transition: transform 1s ease-in-out;
}

.face {
  position: absolute;
  width: 60px;
  height: 60px;
  background: #fff;
  border: 1px solid #444;
  display: flex;
  align-items: center;
  justify-content: center;
}

.face img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.face1 { transform: rotateY(0deg) translateZ(30px); }
.face2 { transform: rotateY(180deg) translateZ(30px); }
.face3 { transform: rotateY(90deg) translateZ(30px); }
.face4 { transform: rotateY(-90deg) translateZ(30px); }
.face5 { transform: rotateX(90deg) translateZ(30px); }
.face6 { transform: rotateX(-90deg) translateZ(30px); }

.botao-dado {
  margin-top: 10px;
  padding: 10px 5px;
  font-size: 1em;
  cursor: pointer;
  border: none;
  background-color: #015817;
  color: white;
  border-radius: 10px;
  box-shadow: 2px 3px 5px 1px rgba(0, 15, 3, 0.514);
}

#divbotoes{
  display: flex;
  justify-content: center; /* centraliza os bot√µes horizontalmente */
  gap: 10px;                /* espa√ßo entre os bot√µes */
}

.botoes{
      display: inline-block;
      background: #915c9c;
            color: white;
            border-radius: 8px;
            box-shadow: 0 3px 0 #53355a;        
            transition: all 0.1s ease;
            position: relative;
            top: 0px;
            width: 150px;
            padding: 10px;
            margin-top: 10px;
            font-size: 20px;
            font-weight: bolder;
       }
    
    .botoes:hover{
            background: #bb77c9;
       }

    .botoes:active{
            background-color: #bb77c9;
            box-shadow: none;
            top: 4px;
      }

    .botoes.touchstart {
        background-color: #bb77c9;
        box-shadow: none;
        top: 4px;
    }

  </style>
</head>
<body>
  
  <div id="conteiner">
    <div class="fundo-wrapper">
      <div class="slot slot1"></div>
      <div class="slot slot2"></div>
      <div class="slot slot3"></div>
      <div class="slot slot4"></div>
      <div class="slot slot5"></div>
      <div class="slot slot6"></div>
      <div class="slot slot7"></div>
      <div class="slot slot8"></div>
      <div class="slot slot9"></div>
      <div class="slot slot10"></div>
      <div class="slot slot11"></div>
      <div class="slot slot12"></div>
      <div class="slot slot13"></div>
      <div class="slot slot14"></div>
      <div class="slot slot15"></div>
      <div class="slot slot16"></div>
      <div class="slot slot17"></div>
      <div class="slot slot18"></div>
      <div class="slot slot19"></div>
      <div class="slot slot20"></div>
      <div class="slot slot21"></div>
      <div class="figuras" id="figuras">
    <div class="figura" id="figura1"><img src="logo-ficha.png" alt="personagem aipim"></div>
    </div>
    <div class="dado-container">
    <div class="dado" id="dado">
      <div class="face face1"><img src="face1.png" alt="1"></div>
      <div class="face face2"><img src="face2.png" alt="2"></div>
      <div class="face face3"><img src="face3.png" alt="3"></div>
      <div class="face face4"><img src="face4.png" alt="4"></div>
      <div class="face face5"><img src="face5.png" alt="5"></div>
      <div class="face face6"><img src="face6.png" alt="6"></div>
    </div>
    <button onclick="rolarDado()" class="botao-dado">üé≤Rolar Dado</button>
    </div>
    </div>
    
    <div id="divbotoes">
      <a href="indexdado.html"><input class="botoes" type="button" value="Novo Jogo"></a>
      <a href="../../Jogos.html"><input class="botoes" type="button" value="Sair"></a>
    </div>
  </div>

</body>

<script>
  const figuras = document.querySelectorAll('.figura');
  const slots = document.querySelectorAll('.slot');

  let figuraSelecionada = null;

  // Mapear qual slot cont√©m qual figura
  const slotPorFigura = new Map();

  // Ao clicar em uma figura, seleciona ela
  figuras.forEach(figura => {
    figura.addEventListener('click', (e) => {
      e.stopPropagation(); // Impede que o clique "vaze" pro slot atr√°s

      // Se j√° estava selecionada, desativa
      if (figuraSelecionada === figura) {
        figuraSelecionada = null;
        figura.style.border = '2px solid #015817';
      } else {
        // Desmarca qualquer outra
        figuras.forEach(f => f.style.border = '2px solid #015817');
        figuraSelecionada = figura;
        figura.style.border = '3px dashed red';
      }
    });
  });

  // Ao clicar em um slot, move a figura selecionada para l√°
  slots.forEach(slot => {
    slot.addEventListener('click', () => {
      if (!figuraSelecionada) return;

      // Verifica se essa figura j√° est√° em outro slot
      const slotAnterior = slotPorFigura.get(figuraSelecionada);
      if (slotAnterior) {
        slotAnterior.innerHTML = '';
      }

      // Remove qualquer figura que esteja nesse slot
      const figuraExistente = slot.querySelector('.figura');
      if (figuraExistente) {
        slotPorFigura.delete(figuraExistente);
        document.getElementById('figuras').appendChild(figuraExistente); // Volta pro lado
      }

      // Move a figura para o slot
      slot.appendChild(figuraSelecionada);
      slotPorFigura.set(figuraSelecionada, slot);

      // Desativa a sele√ß√£o
      figuraSelecionada.style.border = '2px solid #015817';
      figuraSelecionada = null;
    });
  });


  const dado = document.getElementById('dado');
  let ultimosResultados = [];
  let rotacaoExtra = 0;

  function rolarDado() {
    // Gera n√∫mero novo que n√£o repete mais de 2 vezes
    let novoValor;
    do {
      novoValor = Math.floor(Math.random() * 6) + 1;
    } while (
      ultimosResultados.length >= 2 &&
      ultimosResultados[0] === novoValor &&
      ultimosResultados[1] === novoValor
    );

    // Atualiza hist√≥rico
    ultimosResultados.push(novoValor);
    if (ultimosResultados.length > 2) ultimosResultados.shift();

    // Orienta√ß√µes fixas para cada face
    const rotacoesFixas = {
      1: [0, 0],
      2: [0, 180],
      3: [0, -90],
      4: [0, 90],
      5: [-90, 0],
      6: [90, 0],
    };

    const [baseX, baseY] = rotacoesFixas[novoValor];

    // A cada jogada, somamos 720¬∞ para for√ßar nova rota√ß√£o animada
    rotacaoExtra += 720;

    const finalX = baseX + rotacaoExtra;
    const finalY = baseY + rotacaoExtra;

    dado.style.transform = `rotateX(${finalX}deg) rotateY(${finalY}deg)`;
  }








</script>


</html>

